(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{41:function(e,n,t){"use strict";t.r(n);var c=t(2),o=t(17),r=t.n(o),u=t(8),i=t(3),a=t(4),s=t.n(a),d="/api/persons",b=function(){return s.a.get(d).then((function(e){return e.data}))},j=b,l=function(e){return s.a.post(d,e).then((function(e){return e.data}))},f=function(e){return s.a.delete("".concat(d,"/").concat(e)),b()},m=function(e){return s.a.put("".concat(d,"/").concat(e.id),e).then((function(e){return e.data})).catch((function(e){return null}))},h=t(0),O=function(e){var n=e.notification;if(""===n)return null;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("p",{style:{background:"lightgrey",fontSize:24,borderRadius:10,border:"1px solid",padding:20,color:"green"},children:n})})},x=function(e){var n=e.id,t=e.onClick;return Object(h.jsx)("button",{onClick:function(){return t(n)},children:"Delete"})},v=function(e){var n=e.text,t=e.onChange,c=e.value;return Object(h.jsxs)("div",{children:[n," ",Object(h.jsx)("input",{onChange:t,value:c})," "]})},p=function(e){var n=e.onSubmit,t=e.getNewName,c=e.getNewNumber,o=e.newName,r=e.newNumber;return Object(h.jsxs)("form",{onSubmit:n,children:[Object(h.jsx)(v,{onChange:t,value:o,text:"name:"}),Object(h.jsx)(v,{onChange:c,value:r,text:"number"}),Object(h.jsx)("button",{type:"submit",children:"add"})]})},g=function(e){var n=e.persons,t=e.filteredContact,c=e.removeContact;return""===t?Object(h.jsx)(h.Fragment,{children:n.map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("li",{children:[e.name," ",e.number]}),Object(h.jsx)(x,{onClick:c,id:e.id})]},e.id)}))}):Object(h.jsx)(h.Fragment,{children:n.filter((function(e){return e.name.toLocaleLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("li",{children:[e.name," ",e.number]}),Object(h.jsx)(x,{onClick:c,id:e.id})]},e.id)}))})},w=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1],r=Object(c.useState)(""),a=Object(i.a)(r,2),s=a[0],d=a[1],b=Object(c.useState)(""),x=Object(i.a)(b,2),w=x[0],C=x[1],k=Object(c.useState)(""),N=Object(i.a)(k,2),y=N[0],S=N[1],B=Object(c.useState)(""),F=Object(i.a)(B,2),L=F[0],T=F[1];Object(c.useEffect)((function(){j().then((function(e){console.log(e),o(e)}))}),[]);var A=function(){if(t.find((function(e){return e.name===s})))if(t.find((function(e){return e.number===w})))alert("".concat(s," already in PhoneBook"));else{var e=t.find((function(e){return e.name===s})),n=Object(u.a)(Object(u.a)({},e),{},{number:w});D(n)}else{var c={name:s,number:w};l(c).then((function(e){o(t.concat(e)),d(""),C(""),T("".concat(c.name," was added to your phonebook")),setTimeout((function(){T("")}),3e3)}))}},D=function(e){m(e).then((function(n){null===n?(o(t.filter((function(n){return n.id!==e.id}))),T("".concat(e.name," was already delted from your phonebook")),setTimeout((function(){T("")}),3e3)):(o(t.map((function(e){return e.id!==n.id?e:n}))),T("".concat(n.name," was added to your phonebook")),setTimeout((function(){T("")}),3e3)),d(""),C("")}))};return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Phonebook"}),Object(h.jsx)(O,{notification:L}),Object(h.jsx)(v,{onChange:function(e){return S(e.target.value)},value:y,text:"Show By:"}),Object(h.jsx)("h2",{children:"Add Contacts"}),Object(h.jsx)(p,{onSubmit:function(e){e.preventDefault(),""===s||""===w?alert("You must fill all fields"):A()},getNewName:function(e){return d(e.target.value)},getNewNumber:function(e){return C(e.target.value)},newName:s,newNumber:w}),Object(h.jsx)("h2",{children:"Numbers"}),Object(h.jsx)(g,{persons:t,filteredContact:y,removeContact:function(e){window.confirm("Are you sure you want to remove this contact?")&&f(e).then((function(n){o(n.filter((function(n){return n.id!==e})))}))}}),"..."]})};r.a.render(Object(h.jsx)(w,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.78edb012.chunk.js.map